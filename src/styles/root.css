@layer root-calculated, root, global;

@layer root {
	:root {
		font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
		line-height: 1.5;
		font-weight: 400;

		color-scheme: dark;
		color: hsl(var(--background--text-hsl));
		background-color: hsl(var(--background--hsl));

		font-synthesis: none;
		text-rendering: optimizeLegibility;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		-webkit-text-size-adjust: 100%;
	}

	:root {
		--number--epsilon: 2.220446049250313e-16;
		--number--max: 1.7976931348623157e308;
	}

	:root {
		--text--flip-after: 0.65;
		--text--lightness-min: 0.08;
		--text--lightness-max: 0.93;
		--text--saturation-: 0.22;

		--primary--hue-: 250;
		--primary--saturation-: 0.5;
		--primary--lightness-: 0.51;

		--second--hue-: var(--triadic-left--hue-);
		--second--saturation-: var(--triadic-left--saturation-);
		--second--lightness-: var(--triadic-left--lightness-);

		--accent--hue-: var(--analogous-right--hue-);
		--accent--saturation-: var(--analogous-right--saturation-);
		--accent--lightness-: var(--analogous-right--lightness-);

		--monochromatic-a--change: 0.35;
		--base--hue-: var(--monochromatic-a--hue-);
		--base--saturation-: var(--monochromatic-a--saturation-);
		--base--lightness-: var(--monochromatic-a--lightness-);

		--monochromatic-b--change: 0.4;
		--background--hue-: var(--monochromatic-b--hue-);
		--background--saturation-: var(--monochromatic-b--saturation-);
		--background--lightness-: var(--monochromatic-b--lightness-);
	}

	:root {
		--radius: 0.5em;
		--radius-rounded: 1em;
		--radius-fab: 100000vw;

		--span: 1em;

		--transition: 0.175s ease-in;
	}
}

@layer root-calculated {
	:root {
		--complementary--hue-: calc(var(--primary--hue-) + 180);
		--complementary--saturation-: var(--primary--saturation-);
		--complementary--lightness-: var(--primary--lightness-);

		--complementary--hue: var(--complementary--hue-);
		--complementary--saturation: calc(100% * var(--complementary--saturation-));
		--complementary--lightness: calc(100% * var(--complementary--lightness-));

		--monochromatic-a--hue-: var(--primary--hue-);
		--monochromatic-a--saturation-: var(--primary--saturation-);
		--monochromatic-a--lightness-: calc(
			var(--primary--lightness-) +
				calc(
					var(--monochromatic-a--change) *
						max(-1, min(1, calc(calc(calc(0.5 - var(--primary--lightness-)) + var(--number--epsilon)) * var(--number--max))))
				)
		);

		--monochromatic-a--hue: var(--monochromatic-a--hue-);
		--monochromatic-a--saturation: calc(100% * var(--monochromatic-a--saturation-));
		--monochromatic-a--lightness: calc(100% * var(--monochromatic-a--lightness-));

		--monochromatic-b--hue-: var(--primary--hue-);
		--monochromatic-b--saturation-: var(--primary--saturation-);
		--monochromatic-b--lightness-: calc(
			var(--primary--lightness-) +
				calc(
					var(--monochromatic-b--change) *
						max(-1, min(1, calc(calc(calc(0.5 - var(--primary--lightness-)) + var(--number--epsilon)) * var(--number--max))))
				)
		);

		--monochromatic-b--hue: var(--monochromatic-b--hue-);
		--monochromatic-b--saturation: calc(100% * var(--monochromatic-b--saturation-));
		--monochromatic-b--lightness: calc(100% * var(--monochromatic-b--lightness-));

		--analogous-left--hue-: calc(var(--primary--hue-) - 22.5);
		--analogous-left--saturation-: var(--primary--saturation-);
		--analogous-left--lightness-: var(--primary--lightness-);

		--analogous-left--hue: var(--analogous-left--hue-);
		--analogous-left--saturation: calc(100% * var(--analogous-left--saturation-));
		--analogous-left--lightness: calc(100% * var(--analogous-left--lightness-));

		--analogous-right--hue-: calc(var(--primary--hue-) + 22.5);
		--analogous-right--saturation-: var(--primary--saturation-);
		--analogous-right--lightness-: var(--primary--lightness-);

		--analogous-right--hue: var(--analogous-right--hue-);
		--analogous-right--saturation: calc(100% * var(--analogous-right--saturation-));
		--analogous-right--lightness: calc(100% * var(--analogous-right--lightness-));

		--triadic-left--hue-: calc(var(--primary--hue-) - 120);
		--triadic-left--saturation-: var(--primary--saturation-);
		--triadic-left--lightness-: var(--primary--lightness-);

		--triadic-left---hue: var(--triadic-left--hue-);
		--triadic-left--saturation: calc(100% * var(--triadic-left--saturation-));
		--triadic-left--lightness: calc(100% * var(--triadic-left--lightness-));

		--triadic-right--hue-: calc(var(--primary--hue-) + 120);
		--triadic-right--saturation-: var(--primary--saturation-);
		--triadic-right--lightness-: var(--primary--lightness-);

		--triadic-right--hue: var(--triadic-right--hue-);
		--triadic-right--saturation: calc(100% * var(--triadic-right--saturation-));
		--triadic-right--lightness: calc(100% * var(--triadic-right--lightness-));
	}

	:root {
		--primary--hue: var(--primary--hue-);
		--primary--saturation: calc(100% * var(--primary--saturation-));
		--primary--lightness: calc(100% * var(--primary--lightness-));

		--primary--hsl: var(--primary--hue), var(--primary--saturation), var(--primary--lightness);
		--primary--text-hsl: var(--primary--hue), calc(100% * var(--text--saturation-)),
			calc(
				100% *
					max(
						var(--text--lightness-min),
						min(
							var(--text--lightness-max),
							calc(calc(calc(var(--text--flip-after) - var(--primary--lightness-)) + var(--number--epsilon)) * var(--number--max))
						)
					)
			);

		--second--hue: var(--second--hue-);
		--second--saturation: calc(100% * var(--second--saturation-));
		--second--lightness: calc(100% * var(--second--lightness-));

		--second--hsl: var(--second--hue), var(--second--saturation), var(--second--lightness);
		--second--text-hsl: var(--second--hue), calc(100% * var(--text--saturation-)),
			calc(
				100% *
					max(
						var(--text--lightness-min),
						min(
							var(--text--lightness-max),
							calc(calc(calc(var(--text--flip-after) - var(--second--lightness-)) + var(--number--epsilon)) * var(--number--max))
						)
					)
			);

		--accent--hue: var(--accent--hue-);
		--accent--saturation: calc(100% * var(--accent--saturation-));
		--accent--lightness: calc(100% * var(--accent--lightness-));

		--accent--hsl: var(--accent--hue), var(--accent--saturation), var(--accent--lightness);
		--accent--text-hsl: var(--accent--hue), calc(100% * var(--text--saturation-)),
			calc(
				100% *
					max(
						var(--text--lightness-min),
						min(
							var(--text--lightness-max),
							calc(calc(calc(var(--text--flip-after) - var(--accent--lightness-)) + var(--number--epsilon)) * var(--number--max))
						)
					)
			);

		--base--hue: var(--base--hue-);
		--base--saturation: calc(100% * var(--base--saturation-));
		--base--lightness: calc(100% * var(--base--lightness-));

		--base--hsl: var(--base--hue), var(--base--saturation), var(--base--lightness);
		--base--text-hsl: var(--base--hue), calc(100% * var(--text--saturation-)),
			calc(
				100% *
					max(
						var(--text-min),
						min(
							var(--text--lightness-max),
							calc(calc(calc(var(--text--flip-after) - var(--base--lightness-)) + var(--number--epsilon)) * var(--number--max))
						)
					)
			);

		--background--hue: var(--background--hue-);
		--background--saturation: calc(100% * var(--background--saturation-));
		--background--lightness: calc(100% * var(--background--lightness-));

		--background--hsl: var(--background--hue), var(--background--saturation), var(--background--lightness);
		--background--text-hsl: var(--background--hue), calc(100% * var(--text--saturation-)),
			calc(
				100% *
					max(
						var(--text--lightness-min),
						min(
							var(--text--lightness-max),
							calc(calc(calc(var(--text--flip-after) - var(--background--lightness-)) + var(--number--epsilon)) * var(--number--max))
						)
					)
			);
	}
}
